# 백업 정책 설정

# 백업 저장 경로
BACKUP_ROOT="/home/koopark/STCServiceAutomation/backupAutomation/backups"

# 백업 보관 정책
KEEP_MINIMUM=3              # 최소 보관 백업 개수 (항상 유지)
KEEP_DAILY=7                # 최근 7일간 일일 백업
KEEP_WEEKLY=4               # 최근 4주간 주간 백업
KEEP_MONTHLY=3              # 최근 3개월간 월간 백업
MAX_BACKUP_AGE_DAYS=90      # 백업 최대 보관 기간 (일)

# 압축 설정
COMPRESSION_ENABLED=true
COMPRESSION_LEVEL=6         # 1-9 (9가 최대 압축, 6이 균형)
USE_PIGZ=true              # 병렬 압축 사용 (CPU 코어 활용)

# 백업 검증
VERIFY_AFTER_BACKUP=true   # 백업 후 무결성 검사
CHECKSUM_ALGORITHM="sha256" # md5, sha1, sha256

# 안전 설정
REQUIRE_CONFIRMATION=true       # 복구 시 확인 필수
EMERGENCY_BACKUP=true           # 복구 전 현재 상태 긴급 백업
MIN_FREE_SPACE_GB=10           # 최소 여유 공간 (GB)
MAX_BACKUP_SIZE_GB=50          # 백업 최대 크기 경고 (GB)

# 성능 설정
PARALLEL_COMPRESSION=true      # 병렬 압축
IONICE_CLASS=3                # I/O 우선순위 (3=idle)
NICE_LEVEL=10                 # CPU 우선순위 (10=낮음)

# 로깅
LOG_LEVEL="INFO"              # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_RETENTION_DAYS=30         # 로그 보관 기간
VERBOSE=true                  # 상세 출력

# 알림 (선택적)
EMAIL_NOTIFICATION=false
EMAIL_ADDRESS=""
SLACK_WEBHOOK=""

# 시스템 정보 백업
BACKUP_PACKAGE_LIST=true       # 패키지 목록
BACKUP_SERVICE_STATE=true      # 서비스 상태
BACKUP_NETWORK_CONFIG=true     # 네트워크 설정
BACKUP_RAID_CONFIG=true        # RAID 설정
BACKUP_LVM_CONFIG=true         # LVM 설정
BACKUP_FIREWALL_RULES=true     # 방화벽 규칙

# 백업 타입
BACKUP_TYPE="system_config"    # system_config, full, incremental
